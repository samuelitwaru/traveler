{% extends 'index/home-base.html' %}

{% block nav_options %}
	<a href="{{ url_for('index.login') }}" class="nav-link">Login</a>	
	<button data-trigger="#offcanvasSignupForm" class="d-lg-none btn btn-outline-info" type="button">Signup</button>
{% endblock %}

{% block content %}
<b class="screen-overlay"></b>
<div class="container">
	<div class="row">
		<div class="col-md-7">
			{% include 'index/search-buses-form.html' %}
		</div>
		
		<div class="col-md-5 p-2">
			<div class="card mobile-offcanvas" id="offcanvasSignupForm">
				<div class="card-body p-3">
					<div class="offcanvas-header">  
						<button class="btn text-danger  p-0 btn-close float-right">&times</button>
					</div>
					<h5 class="m-0">Signup</h5>
					<hr>
					{% include 'index/signup-form.html' %}
				</div>
			</div>
		</div>
	</div>
</div>

<script type="text/javascript">
	$(document).ready(function() {
	    $("[data-trigger]").on("click", function(e){
	        e.preventDefault();
	        e.stopPropagation();
	        var offcanvas_id =  $(this).attr('data-trigger');
	        $(offcanvas_id).toggleClass("show");
	        $('body').toggleClass("offcanvas-active");
	        $(".screen-overlay").toggleClass("show");
	    }); 

	    // Close menu when pressing ESC
	    $(document).on('keydown', function(event) {
	        if(event.keyCode === 27) {
	            $(".screen-overlay").removeClass("show");
	            $(".mobile-offcanvas").removeClass("show");
	            $("body").removeClass("offcanvas-active");
	        }
	    });

	    $(".btn-close, .screen-overlay").click(function(e){
	        $(".screen-overlay").removeClass("show");
	        $(".mobile-offcanvas").removeClass("show");
	        $("body").removeClass("offcanvas-active");
	    }); 
	});
</script>
{% endblock %}